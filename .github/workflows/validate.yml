name: ğŸ” Code Quality Check

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  validate:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“‹ Checkout repository
      uses: actions/checkout@v4
      
    - name: ğŸ—ï¸ Validate project structure
      run: |
        echo "ğŸ” Validating project structure..."
        test -f pom.xml && echo "âœ… Maven POM found"
        test -f README.md && echo "âœ… README found"
        test -d src/main/java && echo "âœ… Java source directory found"
        test -f Dockerfile && echo "âœ… Dockerfile found"
        echo "âœ… All validation checks passed!"
        
    - name: ğŸ” Check file permissions
      run: |
        echo "ğŸ” Checking file permissions..."
        ls -la
        echo "âœ… File permissions check completed!"
        
    - name: ğŸ³ Lint Dockerfile
      run: |
        echo "ğŸ” Basic Dockerfile validation..."
        grep -q "FROM" Dockerfile && echo "âœ… Dockerfile has valid FROM instruction"
        grep -q "EXPOSE" Dockerfile && echo "âœ… Dockerfile exposes ports"
        echo "âœ… Dockerfile validation completed!"
